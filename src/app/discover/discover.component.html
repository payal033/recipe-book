<div class="container">
  <h3>Find new recipes!</h3>
  <!-- find new recipes form -->
  <div class="flex">
    <form
      (ngSubmit)="onSearch(searchForm)"
      id="submit"
      class="flex"
      #searchForm="ngForm"
    >
      <input
        type="text"
        id="search"
        name="search"
        ngModel
        required
        placeholder="Search recipes and more..."
      />
      <button class="search-btn" type="submit">
        <fa-icon [icon]="faMagnifyingGlass"></fa-icon>
      </button>
    </form>
    <button id="random" class="random-btn" (click)="findRandom()">
      <fa-icon [icon]="faShuffle"></fa-icon>
    </button>
  </div>
  <div id="result-heading"></div>

  <!-- show list of found recipes -->
  @if(flagSearch) {
  <div id="meals" class="meals">
    @for(recipe of searchedRecipes; track recipe.idMeal; let i=$index) {
    <div
      class="meal"
      [attr.data-index]="recipe.idMeal"
      (click)="getMealById(recipe.idMeal)"
    >
      <img [src]="recipe.strMealThumb" alt="{{ recipe.strMeal }}" />
      <div class="meal-info">
        <h5>{{ recipe.strMeal }}</h5>
      </div>
    </div>
    }
  </div>

  } @if(randomRecipe !== null && flagSearch === false) {
  <app-discover-recipe [recipe]="randomRecipe"></app-discover-recipe>
  } @if(recipeById !== null && flagSearch == true) {
  <app-discover-recipe [recipe]="recipeById"></app-discover-recipe>
  }
</div>
